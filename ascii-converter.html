<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ASCII Converter - ARAFAT'S TOOLS</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        /* ARAFAT'S TOOLS Soft UI Variables */
        :root {
            --bg-color-start: #f0f2f5;
            --bg-color-end: #d9e0e7;
            --primary-text: #526177;
            --accent-color: #0077ff;
            --shadow-light: #ffffff;
            --shadow-dark: #b8c1cd;
            --toolzen-primary: #0077ff;
            --toolzen-accent: #F59E0B;
            --ascii-font: 'Consolas', 'Courier New', monospace;
        }

        body {
            font-family: 'Inter', sans-serif;
            color: var(--primary-text);
            background: linear-gradient(135deg, var(--bg-color-start), var(--bg-color-end));
            background-attachment: fixed;
            overflow-x: hidden;
        }
        
        /* Core Soft UI Style */
        .soft-ui {
            background: linear-gradient(145deg, var(--bg-color-end), var(--bg-color-start));
            border-radius: 20px;
            box-shadow: 8px 8px 16px var(--shadow-dark), -8px -8px 16px var(--shadow-light);
            transition: all 0.3s cubic-bezier(0.165, 0.84, 0.44, 1);
        }

        .soft-ui-inset {
            border-radius: 12px;
            box-shadow: inset 7px 7px 14px var(--shadow-dark), inset -7px -7px 14px var(--shadow-light);
        }
        
        .soft-ui-interactive:hover {
           transform: translateY(-5px);
           box-shadow: 12px 12px 24px var(--shadow-dark), -12px -12px 24px var(--shadow-light);
        }
        
        .soft-ui-interactive:active, .soft-ui-button.active {
            transform: translateY(0);
            color: var(--accent-color);
            box-shadow: inset 5px 5px 10px var(--shadow-dark), inset -5px -5px 10px var(--shadow-light);
        }

        /* Header */
        .header-soft {
             background: var(--bg-color-start);
             box-shadow: 6px 6px 12px var(--shadow-dark), -6px -6px 12px var(--shadow-light);
        }
        
        /* General Button Style */
        .btn-soft {
            padding: 12px 24px;
            border-radius: 10px;
            font-weight: 600;
            cursor: pointer;
            text-decoration: none;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            background: linear-gradient(145deg, var(--bg-color-end), var(--bg-color-start));
            box-shadow: 5px 5px 10px var(--shadow-dark), -5px -5px 10px var(--shadow-light);
            color: var(--toolzen-primary);
            transition: all 0.3s ease;
        }
        
        .btn-soft:hover {
            transform: translateY(-2px);
            box-shadow: 8px 8px 16px var(--shadow-dark), -8px -8px 16px var(--shadow-light);
        }
        
        .btn-soft:active {
            transform: translateY(0);
            box-shadow: inset 4px 4px 8px var(--shadow-dark), inset -4px -4px 8px var(--shadow-light);
            color: var(--primary-text);
        }
        .btn-soft:disabled {
            opacity: 0.6;
            cursor: not-allowed;
            color: var(--primary-text);
            transform: translateY(0);
            box-shadow: inset 4px 4px 8px var(--shadow-dark), inset -4px -4px 8px var(--shadow-light);
        }


        /* Animations */
        @keyframes fadeInSlide {
            from { opacity: 0; transform: translateY(30px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .animate-in {
            animation: fadeInSlide 0.8s cubic-bezier(0.165, 0.84, 0.44, 1) forwards;
        }

        /* --- Page & Tool Specific Styles --- */
        .input-group label {
            display: block;
            margin-bottom: 10px;
            font-weight: 600;
        }
        
        textarea, select, input[type="number"] {
            width: 100%;
            padding: 12px;
            background-color: transparent;
            border: none;
            color: var(--primary-text);
            font-size: 1rem;
            resize: vertical;
        }
        textarea:focus, select:focus, input[type="number"]:focus {
            outline: none;
        }
        
        .file-upload-wrapper {
            padding: 2rem;
            cursor: pointer;
            text-align: center;
            transition: background-color 0.3s ease;
        }
        .file-upload-wrapper:hover {
            background-color: rgba(0,0,0,0.02);
        }
        
        .mode-toggle button {
            flex: 1;
            padding: 12px;
            border-radius: 10px;
            border: none;
            background: linear-gradient(145deg, var(--bg-color-end), var(--bg-color-start));
            box-shadow: 5px 5px 10px var(--shadow-dark), -5px -5px 10px var(--shadow-light);
            font-weight: 600;
        }

        #output-ascii {
            width: 100%;
            min-height: 300px;
            max-height: 60vh;
            overflow: auto;
            padding: 15px;
            font-family: var(--ascii-font);
            white-space: pre;
            word-wrap: normal;
            font-size: 0.2rem;
            line-height: 0.9;
            color: var(--primary-text);
            cursor: text;
        }
        
        #ascii-placeholder {
            font-size: 1rem;
            text-align: center;
            padding: 20px;
            font-family: 'Inter', sans-serif;
        }

        @media (max-width: 768px) {
            .nav-links-desktop { display: none; }
            .mobile-menu-button { display: block; }
        }
    </style>
</head>
<body class="antialiased">

    <header class="header-soft sticky top-0 z-50">
        <nav class="container mx-auto px-6 py-4 flex justify-between items-center">
            <a href="tools.html" class="text-2xl font-bold tracking-wide text-transparent bg-clip-text bg-gradient-to-r" style="background-image: linear-gradient(to right, var(--toolzen-primary), var(--toolzen-accent));">
                <i class="fas fa-toolbox mr-2"></i> ARAFAT'S TOOLS
            </a>
            <div class="hidden md:flex space-x-8 items-center font-semibold nav-links-desktop">
                <a href="index.html" class="hover:text-[var(--toolzen-primary)] transition duration-300">Home</a>
                <a href="tools.html" class="hover:text-[var(--toolzen-primary)] transition duration-300">All Tools</a>
            </div>
            <button id="mobileMenuBtn" class="md:hidden focus:outline-none text-2xl p-2 soft-ui soft-ui-interactive rounded-lg mobile-menu-button">
                <i class="fas fa-bars"></i>
            </button>
        </nav>
        <div id="mobileNav" class="hidden md:hidden border-t border-[var(--shadow-dark)]/30">
            <a href="index.html" class="block text-center py-3 px-4 font-semibold hover:bg-white/50 transition duration-300">Home</a>
            <a href="tools.html" class="block text-center py-3 px-4 font-semibold hover:bg-white/50 transition duration-300">All Tools</a>
        </div>
    </header>

    <main class="container mx-auto px-6 py-12">
        <section class="text-center my-10 animate-in">
            <h1 class="text-4xl md:text-5xl font-bold">Image & Text to ASCII Converter</h1>
            <p class="text-lg md:text-xl mt-4 max-w-3xl mx-auto">
                Transform images or text into customizable ASCII art.
            </p>
        </section>

        <div class="grid lg:grid-cols-2 gap-8 items-start animate-in" style="animation-delay: 200ms;">
            
            <div id="settings-panel" class="soft-ui p-6 lg:p-8 space-y-6">
                <h2 class="text-2xl font-bold text-center">Settings</h2>
                
                <div class="mode-toggle soft-ui-inset p-1 flex gap-1 rounded-xl">
                    <button id="mode-image" class="soft-ui-button active"><i class="fas fa-image mr-2"></i>Image</button>
                    <button id="mode-text" class="soft-ui-button"><i class="fas fa-font mr-2"></i>Text</button>
                </div>
                
                <div id="image-section" class="input-section space-y-6">
                    <div class="input-group">
                        <label for="input-file"><i class="fas fa-upload"></i> Upload Image</label>
                        <input type="file" id="input-file" accept="image/*" class="hidden">
                        <div class="soft-ui-inset file-upload-wrapper" onclick="document.getElementById('input-file').click()">
                            <div>
                                <i class="fas fa-camera text-2xl"></i>
                                <p id="file-name-display" class="mt-2">Click to choose a file</p>
                            </div>
                        </div>
                    </div>

                    <div class="input-group">
                        <label for="resolution-scale"><i class="fas fa-arrows-alt-h"></i> Resolution Scale (1-10)</label>
                        <div class="soft-ui-inset">
                            <input type="number" id="resolution-scale" value="5" min="1" max="10">
                        </div>
                    </div>
                </div>
                
                <div id="text-section" class="input-section space-y-6" style="display: none;">
                    <div class="input-group">
                        <label for="text-input"><i class="fas fa-keyboard"></i> Enter Text</label>
                        <div class="soft-ui-inset">
                           <textarea id="text-input" placeholder="Type your text here..." rows="4"></textarea>
                        </div>
                    </div>
                    <div class="input-group">
                        <label for="text-style"><i class="fas fa-brush"></i> Text Box Style</label>
                        <div class="soft-ui-inset">
                           <select id="text-style">
                                <option value="none">Plain Text</option>
                                <option value="boxed">Boxed</option>
                                <option value="shadowed">Shadowed</option>
                                <option value="bordered">Double Bordered</option>
                           </select>
                        </div>
                    </div>
                </div>

                <div class="input-group">
                    <label for="character-set"><i class="fas fa-font"></i> Character Set Density</label>
                    <div class="soft-ui-inset">
                        <select id="character-set">
                            <option value="complex">Complex (Detailed)</option>
                            <option value="medium" selected>Medium (Standard)</option>
                            <option value="simple">Simple (Minimal)</option>
                        </select>
                    </div>
                </div>
                
                <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
                    <button id="convert-btn" class="btn-soft" disabled>
                        <i class="fas fa-magic"></i> Generate
                    </button>
                    <button id="copy-btn" class="btn-soft" disabled>
                        <i class="fas fa-copy"></i> Copy
                    </button>
                </div>
            </div>

            <div id="viewer-panel" class="soft-ui p-6 lg:p-8">
                <h2 class="text-2xl font-bold text-center mb-6">ASCII Output</h2>
                <div class="soft-ui-inset">
                    <pre id="output-ascii"><div id="ascii-placeholder">Your generated art will appear here.</div></pre>
                </div>
                <canvas id="image-canvas" class="hidden"></canvas>
            </div>
        </div>
    </main>

    <footer class="mt-20">
        <div class="container mx-auto px-6 py-12 soft-ui">
            <div class="grid md:grid-cols-4 gap-8 text-center md:text-left">
                 <div>
                     <h3 class="text-xl font-bold mb-4 text-transparent bg-clip-text bg-gradient-to-r" style="background-image: linear-gradient(to right, var(--toolzen-primary), var(--toolzen-accent));">ARAFAT'S TOOLS</h3>
                 </div>
                 <div>
                     <h3 class="text-lg font-bold mb-4">Quick Links</h3>
                     <ul>
                         <li class="mb-2"><a href="index.html" class="hover:text-[var(--toolzen-primary)]">Home</a></li>
                         <li class="mb-2"><a href="tools.html" class="hover:text-[var(--toolzen-primary)]">All Tools</a></li>
                     </ul>
                 </div>
                 <div>
                     <h3 class="text-lg font-bold mb-4">Legal</h3>
                     <ul>
                         <li class="mb-2"><a href="#" class="hover:text-[var(--toolzen-primary)]">Terms of Service</a></li>
                         <li><a href="#" class="hover:text-[var(--toolzen-primary)]">Privacy Policy</a></li>
                     </ul>
                 </div>
                 <div>
                     <h3 class="text-lg font-bold mb-4">Follow Us</h3>
                     <div class="flex space-x-6 justify-center md:justify-start text-2xl">
                         <a href="#" class="soft-ui-interactive rounded-full p-3 w-10 h-10 flex items-center justify-center"><i class="fab fa-github"></i></a>
                         <a href="#" class="soft-ui-interactive rounded-full p-3 w-10 h-10 flex items-center justify-center"><i class="fab fa-twitter"></i></a>
                     </div>
                 </div>
            </div>
            <div class="text-center border-t border-[var(--shadow-dark)]/20 mt-10 pt-6">
                &copy; 2025 ARAFAT'S TOOLS. All rights reserved.
            </div>
        </div>
    </footer>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const inputFile = document.getElementById('input-file');
            const textInput = document.getElementById('text-input');
            const convertBtn = document.getElementById('convert-btn');
            const copyBtn = document.getElementById('copy-btn');
            const outputAscii = document.getElementById('output-ascii');
            const fileNameDisplay = document.getElementById('file-name-display');
            const canvas = document.getElementById('image-canvas');
            const ctx = canvas.getContext('2d');
            
            const modeImageBtn = document.getElementById('mode-image');
            const modeTextBtn = document.getElementById('mode-text');
            const imageSection = document.getElementById('image-section');
            const textSection = document.getElementById('text-section');
            
            const resolutionScale = document.getElementById('resolution-scale');
            const characterSetSelect = document.getElementById('character-set');
            const textStyleSelect = document.getElementById('text-style');

            let currentMode = 'image';
            let currentImageLoaded = false;
            let img = new Image();
            
            const CHAR_SETS = {
                simple: ' .:-=+*#%@',
                medium: ' .:-~=+*#%@',
                complex: '$@B%8&WM#*oahkbdpqwmZO0QLCJUYXZcvunxrjft/\\|()1{}[]?-_+~<>i!lI;:,"^`\'. '
            };
            
            const TEXT_STYLES = {
                boxed: { h: '─', v: '│', tl: '╭', tr: '╮', bl: '╰', br: '╯', padding: 1 },
                bordered: { h: '═', v: '║', tl: '╔', tr: '╗', bl: '╚', br: '╝', padding: 1 },
                shadowed: { h: '—', v: '•', tl: '▓', tr: '▓', bl: '░', br: '░', padding: 2 },
                none: { h: '', v: '', tl: '', tr: '', bl: '', br: '', padding: 0 }
            };

            function getCharFromBrightness(brightness, charSetKey) {
                const charSet = CHAR_SETS[charSetKey];
                const maxBrightness = 255;
                const inverted = charSetKey === 'complex';
                const charIndex = inverted ? 
                    Math.floor(brightness / maxBrightness * (charSet.length - 1)) : 
                    Math.floor((maxBrightness - brightness) / maxBrightness * (charSet.length - 1));
                return charSet[charIndex];
            }
            
            function updateButtonState() {
                let canConvert = false;
                if (currentMode === 'image') {
                    canConvert = currentImageLoaded;
                } else if (currentMode === 'text') {
                    canConvert = textInput.value.trim().length > 0;
                }
                
                convertBtn.disabled = !canConvert;
                copyBtn.disabled = outputAscii.textContent.trim().length === 0 || outputAscii.querySelector('#ascii-placeholder');
            }

            function generateFromImage() {
                if (!currentImageLoaded) return;
                
                const scale = parseInt(resolutionScale.value) || 5;
                const charSetKey = characterSetSelect.value;
                
                const originalWidth = img.width;
                const originalHeight = img.height;
                const maxWidth = 500;
                
                let ratio = Math.min(maxWidth / originalWidth, originalHeight / originalHeight);
                let drawWidth = originalWidth * ratio;
                let drawHeight = originalHeight * ratio;

                const step = scale * 2; 
                drawWidth = Math.floor(drawWidth / step) * step;
                drawHeight = Math.floor(drawHeight / step) * step;

                canvas.width = drawWidth;
                canvas.height = drawHeight;
                ctx.drawImage(img, 0, 0, drawWidth, drawHeight);

                let asciiArt = '';
                
                for (let y = 0; y < drawHeight; y += step) {
                    for (let x = 0; x < drawWidth; x += step) {
                        const pixelData = ctx.getImageData(x, y, step, step).data;
                        let r = 0, g = 0, b = 0, count = 0;

                        for(let i = 0; i < pixelData.length; i += 4) {
                            r += pixelData[i]; g += pixelData[i + 1]; b += pixelData[i + 2]; count++;
                        }
                        
                        r /= count; g /= count; b /= count;

                        const brightness = Math.floor(0.21 * r + 0.72 * g + 0.07 * b);
                        asciiArt += getCharFromBrightness(brightness, charSetKey);
                    }
                    asciiArt += '\n'; 
                }

                outputAscii.innerHTML = asciiArt;
                outputAscii.style.fontSize = `${(scale * 0.1) + 0.2}rem`;
                outputAscii.style.lineHeight = '0.9';
            }
            
            function generateFromText() {
                const text = textInput.value;
                if (!text.trim()) return;

                const lines = text.split('\n');
                const style = TEXT_STYLES[textStyleSelect.value];
                const padding = style.padding;
                
                let maxWidth = lines.reduce((max, line) => Math.max(max, line.length), 0);
                const fullWidth = maxWidth + 2 * padding;
                
                let asciiArt = '';

                if (style.h) {
                    asciiArt += style.tl + style.h.repeat(fullWidth) + style.tr + '\n';
                }

                lines.forEach(line => {
                    const paddedLine = line + ' '.repeat(maxWidth - line.length);
                    asciiArt += style.v.repeat(padding > 0 ? 1 : 0) + ' '.repeat(padding) + paddedLine + ' '.repeat(padding) + style.v.repeat(padding > 0 ? 1 : 0) + '\n';
                });

                if (style.h) {
                    asciiArt += style.bl + style.h.repeat(fullWidth) + style.br;
                }
                
                if (style.h === '') {
                     asciiArt = text;
                }

                outputAscii.innerHTML = asciiArt;
                outputAscii.style.fontSize = '1rem';
                outputAscii.style.lineHeight = '1.2';
            }
            
            function generateOutput() {
                if (currentMode === 'image') generateFromImage();
                else generateFromText();
                updateButtonState();
            }
            
            function setMode(mode) {
                currentMode = mode;
                imageSection.style.display = 'none';
                textSection.style.display = 'none';
                modeImageBtn.classList.remove('active');
                modeTextBtn.classList.remove('active');

                if (mode === 'image') {
                    imageSection.style.display = 'block';
                    modeImageBtn.classList.add('active');
                } else {
                    textSection.style.display = 'block';
                    modeTextBtn.classList.add('active');
                }
                
                outputAscii.innerHTML = `<div id="ascii-placeholder">Ready in ${mode === 'image' ? 'Image' : 'Text'} Mode.</div>`;
                updateButtonState();
            }

            modeImageBtn.addEventListener('click', () => setMode('image'));
            modeTextBtn.addEventListener('click', () => setMode('text'));
            
            inputFile.addEventListener('change', (event) => {
                const file = event.target.files[0];
                if (file) {
                    fileNameDisplay.textContent = file.name;
                    convertBtn.disabled = true;
                    
                    const reader = new FileReader();
                    reader.onload = (e) => {
                        img.onload = () => {
                            currentImageLoaded = true;
                            updateButtonState();
                            outputAscii.innerHTML = '<div id="ascii-placeholder">Image Loaded. Click Generate.</div>';
                        };
                        img.onerror = () => {
                            fileNameDisplay.textContent = 'Error loading image.';
                            currentImageLoaded = false;
                            updateButtonState();
                        };
                        img.src = e.target.result;
                    };
                    reader.readAsDataURL(file);
                } else {
                    fileNameDisplay.textContent = 'No file selected.';
                    currentImageLoaded = false;
                    updateButtonState();
                }
            });

            textInput.addEventListener('input', updateButtonState);
            convertBtn.addEventListener('click', generateOutput);

            copyBtn.addEventListener('click', () => {
                if (copyBtn.disabled) return;
                navigator.clipboard.writeText(outputAscii.textContent).then(() => {
                    const originalText = copyBtn.innerHTML;
                    copyBtn.innerHTML = '<i class="fas fa-check"></i> Copied!';
                    setTimeout(() => copyBtn.innerHTML = originalText, 1500);
                });
            });

            [resolutionScale, characterSetSelect, textStyleSelect].forEach(setting => {
                setting.addEventListener('change', () => {
                    const canAutoRun = (currentMode === 'image' && currentImageLoaded) || (currentMode === 'text' && textInput.value.trim().length > 0);
                    if (canAutoRun) generateOutput();
                });
            });

            const mobileMenuBtn = document.getElementById('mobileMenuBtn');
            const mobileNav = document.getElementById('mobileNav');
            mobileMenuBtn?.addEventListener('click', () => {
                mobileNav.classList.toggle('hidden');
                mobileMenuBtn.querySelector('i').className = mobileNav.classList.contains('hidden') ? 'fas fa-bars' : 'fas fa-times';
            });
            
            setMode('image');
        });
    </script>
</body>
</html>