<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>All Tools - ARAFAT'S TOOLS</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        /* ARAFAT'S TOOLS Soft UI Variables */
        :root {
            --bg-color-start: #f0f2f5;
            --bg-color-end: #d9e0e7;
            --primary-text: #526177;
            --accent-color: #0077ff;
            --accent-glow: rgba(0, 119, 255, 0.3);
            --shadow-light: #ffffff;
            --shadow-dark: #b8c1cd;
            /* ToolZen Colors for branding gradient */
            --toolzen-primary: #0077ff; 
            --toolzen-accent: #F59E0B;
        }

        body {
            font-family: 'Inter', sans-serif;
            color: var(--primary-text);
            background: linear-gradient(135deg, var(--bg-color-start), var(--bg-color-end));
            background-attachment: fixed;
            overflow-x: hidden;
        }
        
        /* Core Soft UI Style */
        .soft-ui {
            background: linear-gradient(145deg, var(--bg-color-end), var(--bg-color-start));
            border-radius: 20px;
            box-shadow: 8px 8px 16px var(--shadow-dark), 
                        -8px -8px 16px var(--shadow-light);
            transition: transform 0.3s cubic-bezier(0.23, 1, 0.32, 1), box-shadow 0.3s cubic-bezier(0.23, 1, 0.32, 1);
        }

        .soft-ui-inset {
            border-radius: 20px;
            box-shadow: inset 7px 7px 14px var(--shadow-dark), 
                        inset -7px -7px 14px var(--shadow-light);
        }
        
        .soft-ui-interactive:hover {
           transform: translateY(-5px) scale(1.02);
           box-shadow: 12px 12px 24px var(--shadow-dark), 
                       -12px -12px 24px var(--shadow-light);
        }
        
        .soft-ui-interactive:active {
            transform: translateY(0) scale(1);
            box-shadow: inset 5px 5px 10px var(--shadow-dark), 
                        inset -5px -5px 10px var(--shadow-light);
        }

        /* Header Styles */
        .header-soft {
             background: var(--bg-color-start);
             box-shadow: 6px 6px 12px var(--shadow-dark), 
                         -6px -6px 12px var(--shadow-light);
        }

        /* Animation Keyframes and Class */
        @keyframes fadeInSlide {
            from { 
                opacity: 0; 
                transform: translateY(20px) scale(0.98); 
            }
            to { 
                opacity: 1; 
                transform: translateY(0) scale(1); 
            }
        }
        
        .animate-in {
            opacity: 0;
            animation: fadeInSlide 0.7s cubic-bezier(0.23, 1, 0.32, 1) forwards;
        }

        /* Tool Card Specific Styles */
        .tool-card-custom {
            background: linear-gradient(145deg, var(--bg-color-end), var(--bg-color-start));
            border-radius: 20px;
            box-shadow: 8px 8px 16px var(--shadow-dark), 
                        -8px -8px 16px var(--shadow-light);
            transition: transform 0.3s cubic-bezier(0.23, 1, 0.32, 1), box-shadow 0.3s cubic-bezier(0.23, 1, 0.32, 1);
            padding: 1.5rem;
            text-align: center;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
            text-decoration: none;
            color: var(--primary-text);
        }

        .tool-card-custom:hover {
            transform: translateY(-5px) scale(1.02);
            box-shadow: 12px 12px 24px var(--shadow-dark), 
                        -12px -12px 24px var(--shadow-light);
        }
        
        .tool-card-custom:active {
            transform: translateY(0) scale(1);
            box-shadow: inset 5px 5px 10px var(--shadow-dark), 
                        inset -5px -5px 10px var(--shadow-light);
        }

        .tool-icon-soft {
            width: 70px;
            height: 70px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 1.25rem;
            font-size: 1.8rem;
            border-radius: 50%;
            box-shadow: inset 7px 7px 14px var(--shadow-dark), 
                        inset -7px -7px 14px var(--shadow-light);
            color: var(--toolzen-primary);
            flex-shrink: 0;
        }
        
        .tool-card-custom h3 {
             font-size: 1.4rem;
             font-weight: 700;
             margin-bottom: 0.5rem;
        }
        
        .tool-card-custom p {
             font-size: 0.95rem;
             color: var(--primary-text);
             margin-bottom: 1.25rem;
             flex-grow: 1;
        }

        /* Grid and Section Styles */
        .tools-grid-soft {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 25px;
            margin: 3rem 0;
        }
        
        .category-header-soft {
            display: flex;
            align-items: center;
            margin-bottom: 2rem;
            padding-bottom: 1rem;
            border-bottom: 1px solid var(--shadow-dark);
        }

        .category-icon-soft {
            width: 50px;
            height: 50px;
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 15px;
            font-size: 1.5rem;
            background: linear-gradient(145deg, var(--bg-color-end), var(--bg-color-start));
            box-shadow: 5px 5px 10px var(--shadow-dark), 
                        -5px -5px 10px var(--shadow-light);
            color: var(--toolzen-primary);
        }
        
        /* Custom Button Style */
        .btn-soft {
            padding: 10px 22px;
            border-radius: 10px;
            font-weight: 600;
            cursor: pointer;
            text-decoration: none;
            display: inline-block;
            text-align: center;
            background: linear-gradient(145deg, var(--bg-color-end), var(--bg-color-start));
            box-shadow: 5px 5px 10px var(--shadow-dark), 
                        -5px -5px 10px var(--shadow-light);
            color: var(--toolzen-primary);
            transition: transform 0.3s cubic-bezier(0.23, 1, 0.32, 1), box-shadow 0.3s cubic-bezier(0.23, 1, 0.32, 1);
        }
        
        .btn-soft:hover {
            transform: translateY(-2px);
            box-shadow: 8px 8px 16px var(--shadow-dark), 
                        -8px -8px 16px var(--shadow-light);
        }
        
        .btn-soft:active {
            transform: translateY(0);
            box-shadow: inset 4px 4px 8px var(--shadow-dark), 
                        inset -4px -4px 8px var(--shadow-light);
            color: var(--primary-text);
        }
        
        /* Search Bar Styles */
        .search-container {
            margin: 2rem auto;
            max-width: 600px;
            position: relative;
        }

        .search-input-soft {
            width: 100%;
            padding: 15px 50px 15px 25px;
            border: none;
            border-radius: 25px;
            font-size: 1.1rem;
            color: var(--primary-text);
            background-color: var(--bg-color-start);
            box-shadow: inset 6px 6px 12px var(--shadow-dark), 
                        inset -6px -6px 12px var(--shadow-light);
            outline: none;
            transition: all 0.3s ease;
        }

        .search-input-soft::placeholder {
            color: var(--primary-text);
            opacity: 0.7;
        }

        .clear-search-btn {
            position: absolute;
            top: 50%;
            right: 15px;
            transform: translateY(-50%);
            background: none;
            border: none;
            color: var(--primary-text);
            cursor: pointer;
            font-size: 1.2rem;
            opacity: 0.7;
            display: none; /* Hidden by default */
        }
    </style>
</head>
<body class="antialiased" style="display: none;"> 
    <header class="header-soft sticky top-0 z-50">
        <nav class="container mx-auto px-6 py-4 flex justify-between items-center">
            <a href="#" class="text-2xl font-bold tracking-wide text-transparent bg-clip-text bg-gradient-to-r" style="background-image: linear-gradient(to right, var(--toolzen-primary), var(--toolzen-accent));">
                <i class="fas fa-toolbox mr-2"></i>
                ARAFAT'S TOOLS
            </a>
            
            <div id="auth-container">
                <button id="logoutBtn" class="btn-soft soft-ui-interactive">Logout</button>
            </div>
        </nav>
    </header>

    <div class="container mx-auto px-6 pt-4">
        <div id="sessionInfo" class="soft-ui-inset p-3 text-center rounded-lg text-sm" style="display: none;">
            <i class="fas fa-server mr-2"></i>
            <span>Logged in Devices: </span>
            <span id="currentSessions" class="font-bold">1</span>
            <span> / </span>
            <span id="deviceLimit" class="font-bold">1</span>
        </div>
    </div>
    <main class="container mx-auto px-6 py-12">
        <section class="text-center my-10 md:my-16 animate-in">
            <h1 class="text-4xl md:text-5xl font-bold mt-8">
                All Available Tools
            </h1>
            <p class="text-lg md:text-xl mt-4 max-w-3xl mx-auto">
                Browse through our complete collection of free utilities. Use the search bar to find the right tool for any task.
            </p>
        </section>

        <section class="animate-in" style="animation-delay: 100ms;">
            <div class="search-container">
                <input type="text" id="searchInput" class="search-input-soft" placeholder="Search for a tool...">
                <button id="clearSearchBtn" class="clear-search-btn"><i class="fas fa-times-circle"></i></button>
            </div>
        </section>

        <section id="tools" class="my-10">
            <div id="all-tools-container">
                 </div>
             <div id="no-results" class="text-center hidden animate-in">
                <h3 class="text-2xl font-semibold">No Tools Found</h3>
                <p class="mt-2 text-lg">Your search did not match any tools. Please try a different keyword.</p>
            </div>
        </section>
    </main>

    <footer id="contact" class="mt-20">
        <div class="container mx-auto px-6 py-12 soft-ui">
            <div class="grid md:grid-cols-4 gap-8 text-center md:text-left">
                 <div>
                     <h3 class="text-xl font-bold mb-4 text-transparent bg-clip-text bg-gradient-to-r" style="background-image: linear-gradient(to right, var(--toolzen-primary), var(--toolzen-accent));">ARAFAT'S TOOLS</h3>
                     <p>A free suite of utilities to boost your productivity.</p>
                 </div>
                 <div>
                     <h3 class="text-lg font-bold mb-4">Quick Links</h3>
                     <ul>
                         <li class="mb-2"><a href="#" class="hover:text-[var(--toolzen-primary)]">All Tools</a></li>
                         <li class="mb-2"><a href="#" class="hover:text-[var(--toolzen-primary)]">About Us</a></li>
                     </ul>
                 </div>
                 <div>
                     <h3 class="text-lg font-bold mb-4">Legal</h3>
                     <ul>
                         <li class="mb-2"><a href="#" class="hover:text-[var(--toolzen-primary)]">Terms of Service</a></li>
                         <li><a href="#" class="hover:text-[var(--toolzen-primary)]">Privacy Policy</a></li>
                     </ul>
                 </div>
                 <div>
                     <h3 class="text-lg font-bold mb-4">Follow Us</h3>
                     <div class="flex space-x-6 justify-center md:justify-start text-2xl">
                         <a href="#" class="soft-ui-interactive rounded-full p-3 w-10 h-10 flex items-center justify-center"><i class="fab fa-github"></i></a>
                         <a href="#" class="soft-ui-interactive rounded-full p-3 w-10 h-10 flex items-center justify-center"><i class="fab fa-twitter"></i></a>
                     </div>
                 </div>
            </div>
            <div class="text-center border-t border-[var(--shadow-dark)]/20 mt-10 pt-6">
                &copy; 2025 ARAFAT'S TOOLS. All rights reserved.
            </div>
        </div>
    </footer>

    <script type="module">
        // UPDATED: Added collection and getDocs
        import { initializeApp } from "https://www.gstatic.com/firebasejs/9.6.1/firebase-app.js";
        import { getFirestore, doc, getDoc, collection, getDocs } from "https://www.gstatic.com/firebasejs/9.6.1/firebase-firestore.js";

        const firebaseConfig = {
          apiKey: "AIzaSyD7PthBfFrmQX6DG21GVji759dp2T73uGo",
          authDomain: "arafattools-11005.firebaseapp.com",
          projectId: "arafattools-11005",
          storageBucket: "arafattools-11005.firebasestorage.app",
          messagingSenderId: "456746063501",
          appId: "1:456746063501:web:498f9590531823dd50f4c4",
          measurementId: "G-QS1VXSKTWD"
        };
        
        const app = initializeApp(firebaseConfig);
        const db = getFirestore(app);

        // =================================================================================
        // --- DATA STORE: ALL AVAILABLE TOOLS (UPDATED) ---
        // =================================================================================
        const toolData = [
             {
                 category: "Binning Tools",
                 icon: "fa-credit-card",
                 tools: [
                     { title: 'CC Generator', icon: 'fa-cogs', description: 'Generate Credit Card numbers for testing.', url: 'cc-generator.html' },
                     { title: 'B3 Checker', icon: 'fa-check-circle', description: 'Validate B3 data and related information with precision.', url: 'b3-checker.html' },
                     { title: 'CC Checker', icon: 'fa-credit-card', description: 'Validate credit card numbers for authenticity.', url: 'cc-checker.html' },
                     { title: 'Bin Find & Share', icon: 'fa-share-alt', description: 'Find and share BIN information securely.', url: 'bin-find-share.html' },
                 ]
             },
             {
                 category: "Utility Tools",
                 icon: "fa-wrench",
                 tools: [
                     { title: 'ASCII Converter', icon: 'fa-asterisk', description: 'Convert text to ASCII, binary, hexadecimal, and more.', url: 'ascii-converter.html' },
                     { title: 'Temp Mail Generator', icon: 'fa-envelope', description: 'Generate a temporary, disposable email address.', url: 'tempmail.html' },
                     { title: 'Text Mechanic', icon: 'fa-tools', description: 'Advanced text manipulation tool for various operations.', url: 'text-mechanic.html' }
                 ]
             },
             {
                 category: "Text Tools",
                 icon: "fa-file-alt",
                 tools: [
                     { title: 'Text Case Converter', icon: 'fa-font', description: 'Changes the case of text (e.g., uppercase, lowercase).', url: 'text-case-converter.html' },
                     { title: 'Word & Character Counter', icon: 'fa-sort-numeric-down', description: 'Counts words, characters, sentences, and paragraphs.', url: 'word-character-counter.html' },
                     { title: 'Remove Duplicate Lines', icon: 'fa-stream', description: 'Deletes duplicate lines from a block of text.', url: 'remove-duplicate-lines.html' },
                     { title: 'Text Shortener', icon: 'fa-cut', description: 'Creates a summary or shortened version of a long text.', url: 'text-shortener.html' },
                     { title: 'Text Reverse Tool', icon: 'fa-undo', description: 'Reverses text, words, or lines.', url: 'text-reverse.html' },
                     { title: 'Text Encryptor/Decryptor', icon: 'fa-user-secret', description: 'Encrypts and decrypts text using various methods.', url: 'text-encryptor.html' },
                 ]
             },
             {
                category: "PDF Tools",
                icon: "fa-file-pdf",
                tools: [
                    { title: 'PDF To Word Tool', icon: 'fa-file-word', description: 'Converts PDF files into editable Word documents.', url: 'pdf-to-word.html' },
                    { title: 'PDF Compressor Tool', icon: 'fa-compress', description: 'Reduces the file size of PDF documents.', url: 'pdf-compressor.html' },
                    { title: 'PDF Merger & Splitter', icon: 'fa-object-group', description: 'Combines multiple PDFs or separates a single PDF.', url: 'pdf-merger-splitter.html' },
                    { title: 'Document Converter', icon: 'fa-file-export', description: 'Converts documents between formats like PDF & DOCX.', url: 'document-converter.html' }
                ]
            },
            {
                category: "SEO Tools",
                icon: "fa-chart-line",
                tools: [
                    { title: 'Keyword Density Checker', icon: 'fa-search-dollar', description: 'Analyzes the frequency of keywords within a text.', url: 'keyword-density-checker.html' },
                    { title: 'Meta Tag Analyzer', icon: 'fa-tags', description: 'Extracts and analyzes meta tags from a webpage URL.', url: 'meta-tag-analyzer.html' }
                ]
            },
            {
                category: "Calculator Tools",
                icon: "fa-calculator",
                tools: [
                    { title: 'Scientific Calculator', icon: 'fa-flask', description: 'Performs basic and advanced scientific calculations.', url: 'scientific-calculator.html' },
                    { title: 'Age Calculator', icon: 'fa-birthday-cake', description: 'Calculates a person\'s age based on their birthdate.', url: 'age-calculator.html' },
                    { title: 'Currency Converter', icon: 'fa-dollar-sign', description: 'Converts amounts between different currencies.', url: 'currency-converter.html' }
                ]
            },
            {
                category: "Developer Tools",
                icon: "fa-code",
                tools: [
                    { title: 'JSON Formatter & Validator', icon: 'fa-sitemap', description: 'Formats and checks the syntax of JSON data.', url: 'json-formatter.html' },
                    { title: 'Base64 Encoder/Decoder', icon: 'fa-retweet', description: 'Encodes and decodes data into the Base64 format.', url: 'base64-converter.html' },
                    { title: 'URL Encoder/Decoder', icon: 'fa-link', description: 'Encodes and decodes strings for safe use in URLs.', url: 'url-converter.html' },
                    { title: 'UUID Generator', icon: 'fa-fingerprint', description: 'Generate universally unique identifiers (UUIDs).', url: 'uuid-generator.html' }
                ]
            },
            {
                category: "Generator Tools",
                icon: "fa-cogs",
                tools: [
                    { title: 'QR Code Generator', icon: 'fa-qrcode', description: 'Create custom QR codes for URLs, text, and more.', url: 'qr-code-generator.html' },
                    { title: 'Barcode Generator', icon: 'fa-barcode', description: 'Generate various types of barcodes for products.', url: 'barcode-generator.html' },
                    { title: 'Random Password Generator', icon: 'fa-key', description: 'Create strong, random passwords to enhance security.', url: 'password-generator.html' }
                ]
            },
            {
                category: "Color Tools",
                icon: "fa-palette",
                tools: [
                    { title: 'Color Picker & Converter', icon: 'fa-eye-dropper', description: 'Select colors and convert between HEX, RGB, & HSL.', url: 'color-picker-converter.html' },
                    { title: 'HEX to RGB Converter', icon: 'fa-tint', description: 'Converts hexadecimal color codes to RGB values.', url: 'hex-to-rgb.html' },
                    { title: 'Gradient Generator', icon: 'fa-paint-brush', description: 'Creates CSS gradient code for web design.', url: 'gradient-generator.html' },
                    { title: 'Contrast Checker', icon: 'fa-adjust', description: 'Checks the color contrast ratio for accessibility.', url: 'contrast-checker.html' },
                    { title: 'Palette Generator', icon: 'fa-swatchbook', description: 'Creates harmonious color palettes from a single color.', url: 'palette-generator.html' },
                    { title: 'Color Blindness Simulator', icon: 'fa-eye-slash', description: 'Simulates how images appear with color blindness.', url: 'color-blindness-sim.html' }
                ]
            },
            {
                category: "Image Tools",
                icon: "fa-image",
                tools: [
                    { title: 'Image Converter', icon: 'fa-exchange-alt', description: 'Convert images between JPG, PNG, WEBP, and more.', url: 'image-converter.html' },
                    { title: 'Image Compressor', icon: 'fa-compress-arrows-alt', description: 'Reduce image file sizes without sacrificing quality.', url: 'image-compressor.html' },
                    { title: 'Image Resizer', icon: 'fa-expand-alt', description: 'Resize images to specific dimensions.', url: 'image-resizer.html' },
                    { title: 'Image Crop Tool', icon: 'fa-crop-alt', description: 'Crop and edit your images with an interactive tool.', url: 'image-crop.html' },
                    { title: 'Image to Text Tool (OCR)', icon: 'fa-file-alt', description: 'Extract text from images accurately with our OCR tool.', url: 'image-to-text.html' },
                    { title: 'Image Rotator/Flipper', icon: 'fa-sync-alt', description: 'Easily rotate and flip your images online.', url: 'image-rotator.html' }
                ]
            },
            {
                category: "Converter Tools",
                icon: "fa-sync-alt",
                tools: [
                    { title: 'Unit Converter', icon: 'fa-ruler-combined', description: 'Converts various units of measurement (length, weight).', url: 'unit-converter.html' },
                    { title: 'Time Zone Converter', icon: 'fa-globe', description: 'Converts time between different global time zones.', url: 'timezone-converter.html' }
                ]
            }
        ];

        // =================================================================================
        // --- PAGE INITIALIZATION & MAIN LOGIC ---
        // =================================================================================
        
        document.addEventListener('DOMContentLoaded', () => {
            // --- RUN AUTH CHECK ---
            checkAuth();
        });

        // REWRITTEN: This function now fetches and displays session data
        const checkAuth = async () => {
            const accessKey = localStorage.getItem('userAccessKey');

            if (!accessKey) {
                window.location.href = 'index.html';
                return;
            }

            try {
                const keyDocRef = doc(db, 'accessKeys', accessKey);
                const docSnap = await getDoc(keyDocRef);

                if (!docSnap.exists() || docSnap.data().status !== 'active') {
                    throw new Error('Key is invalid or inactive.');
                }
                
                const keyData = docSnap.data();
                if (keyData.expiryDate && keyData.expiryDate.toDate() < new Date()) {
                     throw new Error('Key has expired.');
                }
                
                // New logic to get and show device limit
                const deviceLimit = keyData.deviceLimit || 1;
                const sessionsColRef = collection(db, 'accessKeys', accessKey, 'sessions');
                const sessionsSnapshot = await getDocs(sessionsColRef);
                const sessionCount = sessionsSnapshot.docs.length;
                updateSessionDisplay(sessionCount, deviceLimit);
                
                // If all checks pass, show the page
                document.body.style.display = 'block';
                initializePage();

            } catch (error) {
                console.error("Auth Error:", error.message);
                localStorage.removeItem('userAccessKey'); // Clean up invalid key
                alert('Your session is invalid or has expired. Please log in again.');
                window.location.href = 'index.html';
            }
        };

        // This function sets up the rest of the page after auth is confirmed
        const initializePage = () => {
            const logoutBtn = document.getElementById('logoutBtn');
            const searchInput = document.getElementById('searchInput');
            const clearSearchBtn = document.getElementById('clearSearchBtn');

            if (document.getElementById('all-tools-container')) {
                 generateToolSections('all-tools-container', toolData);
            }
            
            logoutBtn.addEventListener('click', () => {
                localStorage.removeItem('userAccessKey');
                window.location.href = 'index.html';
            });

            searchInput.addEventListener('input', handleSearch);

            clearSearchBtn.addEventListener('click', () => {
                searchInput.value = '';
                handleSearch();
            });
        };


        // =================================================================================
        // --- DYNAMIC CONTENT & SEARCH FUNCTIONS ---
        // =================================================================================

        // NEW: Function to update the device limit display
        function updateSessionDisplay(current, limit) {
            const sessionInfoEl = document.getElementById('sessionInfo');
            const currentSessionsEl = document.getElementById('currentSessions');
            const deviceLimitEl = document.getElementById('deviceLimit');

            if (sessionInfoEl && currentSessionsEl && deviceLimitEl) {
                currentSessionsEl.textContent = current;
                deviceLimitEl.textContent = limit;
                sessionInfoEl.style.display = 'block';
            }
        }

        function generateToolSections(containerId, dataToRender = toolData) {
            const container = document.getElementById(containerId);
            const noResultsEl = document.getElementById('no-results');
            if (!container || !noResultsEl) return;

            container.innerHTML = '';
            let totalToolsFound = 0;
            let animationDelay = 0;

            dataToRender.forEach(categoryData => {
                const toolsToShow = categoryData.tools;
                if (toolsToShow.length === 0) return;

                totalToolsFound += toolsToShow.length;
                animationDelay += 100;

                const section = document.createElement('section');
                section.className = 'tools-section animate-in';
                section.style.animationDelay = `${animationDelay}ms`;
                
                let toolsHTML = '';
                let cardDelay = 0;

                toolsToShow.forEach((tool) => {
                    cardDelay += 50;
                    toolsHTML += `
                        <a href="${tool.url}" class="tool-card-custom animate-in" style="animation-delay: ${animationDelay + cardDelay}ms;">
                            <div>
                               <div class="tool-icon-soft"><i class="fas ${tool.icon}"></i></div>
                               <h3>${tool.title}</h3>
                               <p>${tool.description}</p>
                            </div>
                            <span class="btn-soft">Use Tool</span>
                        </a>
                    `;
                });

                section.innerHTML = `
                    <div class="category-section mt-16">
                        <div class="category-header-soft">
                            <div class="category-icon-soft"><i class="fas ${categoryData.icon}"></i></div>
                            <h2 class="text-3xl font-bold">${categoryData.category}</h2>
                        </div>
                        <div class="tools-grid-soft">${toolsHTML}</div>
                    </div>
                `;
                container.appendChild(section);
            });
            
            if (totalToolsFound === 0) {
                noResultsEl.classList.remove('hidden');
            } else {
                noResultsEl.classList.add('hidden');
            }
        }
        
        function handleSearch() {
            const searchInput = document.getElementById('searchInput');
            const clearSearchBtn = document.getElementById('clearSearchBtn');
            const searchTerm = searchInput.value.toLowerCase().trim();
            
            clearSearchBtn.style.display = searchTerm.length > 0 ? 'block' : 'none';

            const filteredData = toolData.map(category => {
                const filteredTools = category.tools.filter(tool => 
                    tool.title.toLowerCase().includes(searchTerm) ||
                    tool.description.toLowerCase().includes(searchTerm)
                );
                return { ...category, tools: filteredTools };
            }).filter(category => category.tools.length > 0);

            generateToolSections('all-tools-container', filteredData);
        }
    </script>
</body>
</html>